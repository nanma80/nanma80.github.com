<!DOCTYPE html>
<html>
<head>
<title>Lights Out</title>
<script src="lib/point3d.js"></script>
<script src="lib/sticker.js"></script>
<script src="lib/puzzle.js"></script>
<script src="lib/mouse.js"></script>
<script src="lib/puzzleBuilderHelper.js"></script>
<script src="lib/puzzleBuilder.js"></script>
<style type = "text/css">
  button {
    margin: 10px;
    height:30px; 
    width:90px;
  } 
</style>
</head>
<body onselectstart='return false;'>

<h1 style="margin-top:0;margin-bottom:0;font-family:Arial, Helvetica, sans-serif;">
  Lights Out on Polyhedron
</h1>

<div id="content" style="height:550px;width:550px;float:left;">
<canvas id="canvas" width="550" height="550" style="border:1px solid #c3c3c3;" oncontextmenu="return false;" onselectstart='return false;'>
Your browser does not support the HTML5 canvas tag.
</canvas>
</div>

<div id="info" style="margin-left:10px;width:330px;float:left;font-family:Arial, Helvetica, sans-serif;">
  <div id="types" style="font-size:large;float:left;background-color:rgb(240,240,255);line-height:30px;">
    <div>Shape</div>
    <input type="radio" name="type" value="cube" onclick = "onRadioButton();">Cube<br>
    <input type="radio" name="type" value="octahedron" onclick = "onRadioButton();">Octahedron<br>
    <input type="radio" name="type" value="dodecahedron" onclick = "onRadioButton();" checked>Dodecahedron<br>
    <input type="radio" name="type" value="icosahedron" onclick = "onRadioButton();">Icosahedron<br>
    <input type="radio" name="type" value="vertex first cube" onclick = "onRadioButton();">Cuboctahedron<br>
    <input type="radio" name="type" value="face first dodecahedron" onclick = "onRadioButton();">Icosidodecahedron<br>
    <input type="radio" name="type" value="soccer" onclick = "onRadioButton();">Soccer Ball<br>

    <div>Neighborhood is defined as:</div>
    <input type="radio" name="neighborhood" value="2" checked>sharing an edge<br>
    <input type="radio" name="neighborhood" value="1">sharing an vertex<br>
  </div>

  <div id="control" style="margin-left:53px;margin-top:10px;margin-bottom:10px;height:50px;width:300px;float:left;font-family:Arial, Helvetica, sans-serif;">
    <button type="button" onclick = "puzzle.resetState();">Reset</button> 
    <button type="button" onclick = "puzzle.scramble();">Scramble</button>
  </div>

  

</div>

<div id="content" style="font-size:small;float:left;font-family:Arial, Helvetica, sans-serif">
<p>Click a sticker to toggle its neighbors.</p>
<p>The puzzle uses html5 canvas, which is not supported directly by IE 8 or lower. I also apologize if the animation is jumpy on some browsers. Try using the latest version of Chrome for the best experience.</p>
<p>Nan Ma, 2014</p>
<p id="log"></p>
</div>

<script type="text/javascript">
  var canvas = document.getElementById("canvas");
  var context = canvas.getContext("2d");
  var viewHeight = canvas.height;
  var viewWidth = canvas.width;

  var invertMirrorX = false; // For mirror X mode and the mirror X moves in the full puzzle. When false: clicked corner will move, when true, clicked corner will not move

  var puzzle = new Puzzle();

  onRadioButton();

  canvas.addEventListener("mousedown", mouseDown, false);
  canvas.addEventListener("mousemove", mouseMove, false);
  canvas.addEventListener("mouseover", mouseOver, false);
  canvas.addEventListener("mouseout", mouseOut, false);
  canvas.addEventListener("touchstart", mouseDown, false);
  canvas.addEventListener("touchmove", touchMove, true);
  canvas.addEventListener("touchend", touchUp, false);

  document.body.addEventListener("mouseup", mouseUp, false);
  document.body.addEventListener("touchcancel", touchUp, false);
</script>


</body>
</html>
